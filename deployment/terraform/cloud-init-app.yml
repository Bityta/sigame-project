#cloud-config

hostname: ${hostname}

package_update: true
package_upgrade: true

packages:
  - apt-transport-https
  - ca-certificates
  - curl
  - gnupg
  - lsb-release
  - git
  - make
  - htop
  - net-tools

runcmd:
  # Set timezone
  - timedatectl set-timezone Europe/Moscow
  
  # Create working directory
  - mkdir -p /opt/sigame
  - chown ubuntu:ubuntu /opt/sigame
  
write_files:
  - path: /etc/sysctl.d/99-network.conf
    content: |
      net.core.somaxconn = 1024
      net.ipv4.tcp_max_syn_backlog = 2048
      net.ipv4.ip_local_port_range = 1024 65535
    permissions: '0644'

