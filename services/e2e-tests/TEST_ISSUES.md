# –ü—Ä–æ–±–ª–µ–º—ã –≤ E2E —Ç–µ—Å—Ç–∞—Ö

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ª–æ–≥–∏–∫–æ–π –ø—Ä–æ–≤–µ—Ä–æ–∫

### 1. `auth.spec.ts` - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–∫–∏ –≤—Ö–æ–¥–∞
**–°—Ç—Ä–æ–∫–∞ 100:**
```typescript
const errorModal = page.getByText(/invalid username or password/i).or(page.getByText(/–Ω–µ–≤–µ—Ä–Ω—ã–π/i)).or(page.getByText(/–æ—à–∏–±–∫–∞/i));
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `.or()` —Å –æ—á–µ–Ω—å –æ–±—â–∏–º —Ç–µ–∫—Å—Ç–æ–º `/–æ—à–∏–±–∫–∞/i` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ª–æ–∂–Ω—ã–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è–º - —Ç–µ—Å—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏, –µ—Å–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å –õ–Æ–ë–û–ô —Ç–µ–∫—Å—Ç —Å–æ —Å–ª–æ–≤–æ–º "–æ—à–∏–±–∫–∞", –¥–∞–∂–µ –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

---

### 2. `register-detailed.spec.ts` - –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–∞—è –∏ –Ω–µ–Ω–∞–¥–µ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–Ω—è—Ç–æ–≥–æ username
**–°—Ç—Ä–æ–∫–∏ 108-135:**
```typescript
let hintText = '';
for (let i = 0; i < 20; i++) {
  hintText = await hintElement.textContent().catch(() => '');
  if (hintText && (hintText.includes('–∑–∞–Ω—è—Ç–æ') || hintText.includes('–ò–º—è –∑–∞–Ω—è—Ç–æ'))) {
    break;
  }
  await page.waitForTimeout(500);
}
// ... –∑–∞—Ç–µ–º –µ—â–µ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
```
**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–∞ —Å `waitForTimeout` –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å `.catch(() => '')` –º–æ–≥—É—Ç —Å–∫—Ä—ã—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏
- –õ–æ–≥–∏–∫–∞ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–∞—è –∏ –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ username –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–Ω—è—Ç
- –¢–µ—Å—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `waitFor` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º –∏ —É—Å–ª–æ–≤–∏–µ–º, –≤–º–µ—Å—Ç–æ —Ü–∏–∫–ª–∞ —Å —Ç–∞–π–º–∞—É—Ç–∞–º–∏.

---

### 3. `websocket-detailed.spec.ts` - –õ–æ–∂–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ WebSocket
**–°—Ç—Ä–æ–∫–∏ 220-225:**
```typescript
await page.evaluate(() => {
  if (window.WebSocket) {
    const ws = new WebSocket('ws://invalid-url');
    ws.onerror = () => {};
  }
});
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–∑–¥–∞–µ—Ç—Å—è –ù–û–í–´–ô WebSocket —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º URL, –Ω–æ —ç—Ç–æ –ù–ï —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–≥—Ä—ã. –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥—Ä—É–≥–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ —Å–≤—è–∑–∞–Ω–æ —Å –∏–≥—Ä–æ–π.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–≥—Ä—ã, –∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤–æ–µ.

---

### 4. `reconnection.spec.ts` - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å WebSocket
**–°—Ç—Ä–æ–∫–∏ 52-57:**
```typescript
await page.evaluate(() => {
  if (window.WebSocket) {
    const ws = new WebSocket('ws://invalid');
    ws.close();
  }
});
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ –∂–µ —Å–∞–º–æ–µ - —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π WebSocket, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å–≤—è–∑–∞–Ω —Å –∏–≥—Ä–æ–π. –≠—Ç–æ –Ω–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.

---

### 5. `room-detailed.spec.ts` - –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—á–µ—Ç—á–∏–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
**–°—Ç—Ä–æ–∫–∞ 41:**
```typescript
await expect(page.getByText(/1 \/ 2/i).or(page.getByText(/–≥–æ—Ç–æ–≤—ã/i))).toBeVisible({ timeout: 3000 });
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `.or()` —Å –æ–±—â–∏–º —Ç–µ–∫—Å—Ç–æ–º `/–≥–æ—Ç–æ–≤—ã/i` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ª–æ–∂–Ω—ã–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è–º. –¢–µ—Å—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ –¥–∞–∂–µ –µ—Å–ª–∏ —Å—á–µ—Ç—á–∏–∫ –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å —Ç–µ–∫—Å—Ç "–≥–æ—Ç–æ–≤—ã".

---

## üü° –ü—Ä–æ–±–ª–µ–º—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º waitForTimeout –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ–∂–∏–¥–∞–Ω–∏–π

### 6. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `waitForTimeout` –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π
**–§–∞–π–ª—ã:**
- `auth.spec.ts`: —Å—Ç—Ä–æ–∫–∏ 33, 44, 56, 69, 98
- `register-detailed.spec.ts`: —Å—Ç—Ä–æ–∫–∏ 22, 51, 76, 87, 91, 103, 119, 128
- `create-room.spec.ts`: —Å—Ç—Ä–æ–∫–∞ 46
- `room.spec.ts`: —Å—Ç—Ä–æ–∫–∞ 55
- –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ...

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤ –¥–µ–ª–∞–µ—Ç —Ç–µ—Å—Ç—ã:
- –ú–µ–¥–ª–µ–Ω–Ω—ã–º–∏ (–≤—Å–µ–≥–¥–∞ –∂–¥—É—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è)
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏ (–º–æ–≥—É—Ç –Ω–µ —É—Å–ø–µ—Ç—å –∏–ª–∏ –∂–¥–∞—Ç—å —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ)
- –ù–µ–Ω–∞–¥–µ–∂–Ω—ã–º–∏ (–Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `waitFor`, `waitForSelector`, `waitForResponse` –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –æ–∂–∏–¥–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.

---

## üü† –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ .catch()

### 7. –°–∫—Ä—ã—Ç–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —á–µ—Ä–µ–∑ `.catch(() => {})`
**–ü—Ä–∏–º–µ—Ä—ã:**
- `game-detailed.spec.ts:57` - `.catch(() => {})` –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –∫–ª–∞—Å—Å–æ–º –≤–æ–ø—Ä–æ—Å–∞
- `game-detailed.spec.ts:83-85` - —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å `.catch()` –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ—à–∏–±–∫–∏
- `timers.spec.ts:26, 55, 87` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `.catch(() => {})` —Å–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã
- `host-functions.spec.ts:43` - `.catch(() => {})` –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
- `room-detailed.spec.ts:60` - `.catch(() => {})` –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç, –æ—à–∏–±–∫–∞ –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –∏ —Ç–µ—Å—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ª–æ–∂–Ω—ã–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è–º —Ç–µ—Å—Ç–æ–≤.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –õ–∏–±–æ —É–±—Ä–∞—Ç—å `.catch()`, –ª–∏–±–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏, –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å —è–≤–Ω—ã–º–∏ –æ–∂–∏–¥–∞–Ω–∏—è–º–∏.

---

## üü° –ü—Ä–æ–±–ª–µ–º—ã —Å –ª–æ–≥–∏–∫–æ–π —Ç–µ—Å—Ç–æ–≤

### 8. `room.spec.ts` - –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
**–°—Ç—Ä–æ–∫–∞ 30:**
```typescript
const roomId = await createRoom(hostPage);
```
**–ü—Ä–æ–±–ª–µ–º–∞:** `roomId` —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `roomCode`. –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥.

---

### 9. `timers.spec.ts` - –£—Å–ª–æ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
**–°—Ç—Ä–æ–∫–∏ 111-117:**
```typescript
if (await timerBar.isVisible({ timeout: 5000 }).catch(() => false)) {
  const initialWidth = await timerBar.evaluate(el => (el as HTMLElement).style.width);
  await page.waitForTimeout(1000);
  const afterWidth = await timerBar.evaluate(el => (el as HTMLElement).style.width);
  expect(initialWidth).not.toBe(afterWidth);
}
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ —Ç–∞–π–º–µ—Ä –Ω–µ –≤–∏–¥–µ–Ω, —Ç–µ—Å—Ç –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç. –≠—Ç–æ –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ç–∞–π–º–µ—Ä–∞.

---

### 10. `error-handling.spec.ts` - –°–ª–∏—à–∫–æ–º –æ–±—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫
**–°—Ç—Ä–æ–∫–∏ 16, 27, 48, 64:**
```typescript
await expect(page.getByText(/–æ—à–∏–±–∫–∞/i).or(page.getByText(/–Ω–µ —É–¥–∞–ª–æ—Å—å/i))).toBeVisible({ timeout: 5000 }).catch(() => {});
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—á–µ–Ω—å –æ–±—â–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤ `/–æ—à–∏–±–∫–∞/i` –∏ `/–Ω–µ —É–¥–∞–ª–æ—Å—å/i` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ª–æ–∂–Ω—ã–º —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è–º. –¢–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `.catch(() => {})` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–µ—Å—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ –¥–∞–∂–µ –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.

---

### 11. `validation.spec.ts` - –°–ª–∞–±–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
**–°—Ç—Ä–æ–∫–∞ 14:**
```typescript
await expect(usernameField).toBeFocused().catch(() => {
  expect(page.getByText(/–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/i)).toBeVisible();
});
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –ø–æ–ª–µ –Ω–µ –≤ —Ñ–æ–∫—É—Å–µ, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–∏–µ —Ç–µ–∫—Å—Ç–∞ "–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å–µ–≥–¥–∞ –∏—Å—Ç–∏–Ω–Ω–æ. –≠—Ç–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é.

---

### 12. `game-detailed.spec.ts` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ö–æ—Å—Ç–∞
**–°—Ç—Ä–æ–∫–∏ 82-85:**
```typescript
const pressButtonHost = page.getByRole('button', { name: /–Ω–∞–∂–∞—Ç—å/i }).or(page.locator('button').filter({ hasText: /–æ—Ç–≤–µ—Ç–∏—Ç—å/i }));
await expect(pressButtonHost).not.toBeVisible().catch(() => {
  expect(pressButtonHost).toBeDisabled();
});
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å `.catch()` –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ –∫–Ω–æ–ø–∫–∞ –≤–∏–¥–Ω–∞ –∏ –∞–∫—Ç–∏–≤–Ω–∞ (—á—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–ª—è —Ö–æ—Å—Ç–∞).

---

## üîµ –ü—Ä–æ–±–ª–µ–º—ã —Å —Ö–µ–ª–ø–µ—Ä–∞–º–∏

### 13. `helpers/auth.ts` - –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏
**–°—Ç—Ä–æ–∫–∏ 57-62, 80-82:**
```typescript
.catch(async () => {
  const hintText = await hintElement.textContent().catch(() => '');
  if (hintText.includes('–∑–∞–Ω—è—Ç–æ') || hintText.includes('–ò–º—è –∑–∞–Ω—è—Ç–æ')) {
    const newUsername = generateUsername();
    return registerUser(page, newUsername, password); // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤
  }
  // ...
});
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ username –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–Ω—è—Ç (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ), —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏ –∏–ª–∏ –æ—á–µ–Ω—å –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ –ø–æ–ø—ã—Ç–æ–∫ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤.

---

### 14. `helpers/room.ts` - –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ
**–°—Ç—Ä–æ–∫–∏ 17, 28, 56:**
```typescript
await page.waitForTimeout(1000);
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∞–π–º–∞—É—Ç–æ–≤ –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ª–æ–≥–∏–∫–æ–π:** 5
- **–ü—Ä–æ–±–ª–µ–º—ã —Å waitForTimeout:** ~20+ –º–µ—Å—Ç
- **–ü—Ä–æ–±–ª–µ–º—ã —Å .catch():** ~15+ –º–µ—Å—Ç
- **–ü—Ä–æ–±–ª–µ–º—ã —Å –ª–æ–≥–∏–∫–æ–π —Ç–µ—Å—Ç–æ–≤:** 7
- **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ö–µ–ª–ø–µ—Ä–∞–º–∏:** 2

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å `.or()` –∏ –æ–±—â–∏–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–Ω—è—Ç–æ–≥–æ username
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã WebSocket –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

2. **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
   - –ó–∞–º–µ–Ω–∏—Ç—å `waitForTimeout` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è
   - –£–±—Ä–∞—Ç—å –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `.catch(() => {})`

3. **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ö–µ–ª–ø–µ—Ä—ã
   - –£–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤

