# üìä SIGame Infrastructure

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
cd /Users/bituckihs/Documents/sigame-project
docker-compose down -v
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
```bash
docker-compose up -d
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
```bash
# –¢–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
docker-compose up -d prometheus loki tempo grafana redis postgres kafka minio

# –¢–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker-compose up -d auth-service lobby-service game-service pack-service
```

## üìä –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

| –°–µ—Ä–≤–∏—Å | URL | –õ–æ–≥–∏–Ω / –ü–∞—Ä–æ–ª—å |
|--------|-----|----------------|
| **Grafana** | http://localhost:3000 | admin / admin |
| **Prometheus** | http://localhost:9090 | - |
| **MinIO Console** | http://localhost:9001 | minioadmin / minioadmin |

## üìà –î–∞—à–±–æ—Ä–¥—ã Grafana

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ Grafana –∏ –Ω–∞–π–¥–∏—Ç–µ:

1. **üéÆ System Overview** - –û–±—â–∏–π –æ–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã
2. **üéØ Game Metrics** - –ú–µ—Ç—Ä–∏–∫–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞  
3. **üíæ Infrastructure** - –ú–µ—Ç—Ä–∏–∫–∏ –ë–î, –∫—ç—à–∞, –æ—á–µ—Ä–µ–¥–µ–π

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f [–∏–º—è-—Å–µ—Ä–≤–∏—Å–∞]

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart [–∏–º—è-—Å–µ—Ä–≤–∏—Å–∞]

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats
```

## üóÑÔ∏è –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### PostgreSQL
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
docker exec -it postgres psql -U postgres -d auth_db

# –°–ø–∏—Å–æ–∫ –±–∞–∑
\l

# –°–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
\dt
```

### Redis
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
docker exec -it redis redis-cli

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–µ–π
KEYS *

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏
INFO memory
```

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–∞—Ö:
- `prometheus/prometheus.yml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- `loki/loki.yml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤
- `tempo/tempo.yml` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞
- `grafana/dashboards/` - JSON-—Ñ–∞–π–ª—ã –¥–∞—à–±–æ—Ä–¥–æ–≤

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

1. **–ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã 3000, 5432, 6379, 9090 —Å–≤–æ–±–æ–¥–Ω—ã
2. **–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏** - –º–∏–Ω–∏–º—É–º 8GB RAM —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
3. **–û—à–∏–±–∫–∏ –ë–î** - –¥–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (~30 —Å–µ–∫)

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ Production Ready
