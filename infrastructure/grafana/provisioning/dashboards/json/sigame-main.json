{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": null,
  "links": [
    {
      "asDropdown": true,
      "icon": "external link",
      "includeVars": true,
      "keepTime": true,
      "tags": ["sigame"],
      "targetBlank": false,
      "title": "üìä –î–∞—à–±–æ—Ä–¥—ã —Å–µ—Ä–≤–∏—Å–æ–≤",
      "tooltip": "–ü–µ—Ä–µ–π—Ç–∏ –∫ –¥–µ—Ç–∞–ª—å–Ω—ã–º –¥–∞—à–±–æ—Ä–¥–∞–º",
      "type": "dashboards",
      "url": ""
    },
    {
      "icon": "doc",
      "tags": [],
      "targetBlank": true,
      "title": "üìã –õ–æ–≥–∏ (Loki)",
      "tooltip": "–û—Ç–∫—Ä—ã—Ç—å Explore —Å –ª–æ–≥–∞–º–∏",
      "type": "link",
      "url": "/explore?left=%7B%22datasource%22:%22loki%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22expr%22:%22%7Bservice%3D~%5C%22.%2B%5C%22%7D%22%7D%5D,%22range%22:%7B%22from%22:%22now-1h%22,%22to%22:%22now%22%7D%7D"
    },
    {
      "icon": "graph",
      "tags": [],
      "targetBlank": true,
      "title": "üîç –¢—Ä–µ–π—Å—ã (Tempo)",
      "tooltip": "–û—Ç–∫—Ä—ã—Ç—å Explore —Å —Ç—Ä–µ–π—Å–∞–º–∏",
      "type": "link",
      "url": "/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22search%22%7D%5D,%22range%22:%7B%22from%22:%22now-1h%22,%22to%22:%22now%22%7D%7D"
    }
  ],
  "liveNow": true,
  "panels": [
    {
      "datasource": {
        "type": "datasource",
        "uid": "-- Dashboard --"
      },
      "gridPos": {"h": 3, "w": 24, "x": 0, "y": 0},
      "id": 200,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# üéÆ SIGame - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã\n\n**–ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏:** [üìã –í—Å–µ –ª–æ–≥–∏](/explore?left=%7B%22datasource%22:%22loki%22%7D) | [üîç –í—Å–µ —Ç—Ä–µ–π—Å—ã](/explore?left=%7B%22datasource%22:%22tempo%22%7D) | [üìä –ú–µ—Ç—Ä–∏–∫–∏ Prometheus](http://89.169.139.21:9090)\n\n---",
        "mode": "markdown"
      },
      "pluginVersion": "10.0.0",
      "transparent": true,
      "type": "text"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 3},
      "id": 100,
      "panels": [],
      "title": "üéÆ –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"0": {"color": "red", "index": 0, "text": "DOWN"}, "1": {"color": "green", "index": 1, "text": "UP"}}, "type": "value"}
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]
          }
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 0, "y": 4},
      "id": 1,
      "links": [
        {
          "targetBlank": true,
          "title": "üìä –î–µ—Ç–∞–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥",
          "url": "/d/auth-service"
        },
        {
          "targetBlank": true,
          "title": "üìã –õ–æ–≥–∏ Auth Service",
          "url": "/explore?left=%7B%22datasource%22:%22loki%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22expr%22:%22%7Bservice%3D%5C%22auth-service%5C%22%7D%22%7D%5D%7D"
        },
        {
          "targetBlank": true,
          "title": "üîç –¢—Ä–µ–π—Å—ã Auth Service",
          "url": "/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22search%22,%22serviceName%22:%22auth-service%22%7D%5D%7D"
        }
      ],
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "up{job=\"auth-service\"}", "refId": "A"}],
      "title": "üîê Auth Service",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"0": {"color": "red", "index": 0, "text": "DOWN"}, "1": {"color": "green", "index": 1, "text": "UP"}}, "type": "value"}
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]
          }
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 6, "y": 4},
      "id": 2,
      "links": [
        {
          "targetBlank": true,
          "title": "üìä –î–µ—Ç–∞–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥",
          "url": "/d/lobby-service"
        },
        {
          "targetBlank": true,
          "title": "üìã –õ–æ–≥–∏ Lobby Service",
          "url": "/explore?left=%7B%22datasource%22:%22loki%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22expr%22:%22%7Bservice%3D%5C%22lobby-service%5C%22%7D%22%7D%5D%7D"
        },
        {
          "targetBlank": true,
          "title": "üîç –¢—Ä–µ–π—Å—ã Lobby Service",
          "url": "/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22search%22,%22serviceName%22:%22lobby-service%22%7D%5D%7D"
        }
      ],
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "up{job=\"lobby-service\"}", "refId": "A"}],
      "title": "üè† Lobby Service",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"0": {"color": "red", "index": 0, "text": "DOWN"}, "1": {"color": "green", "index": 1, "text": "UP"}}, "type": "value"}
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]
          }
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 12, "y": 4},
      "id": 3,
      "links": [
        {
          "targetBlank": true,
          "title": "üìä –î–µ—Ç–∞–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥",
          "url": "/d/game-service"
        },
        {
          "targetBlank": true,
          "title": "üìã –õ–æ–≥–∏ Game Service",
          "url": "/explore?left=%7B%22datasource%22:%22loki%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22expr%22:%22%7Bservice%3D%5C%22game-service%5C%22%7D%22%7D%5D%7D"
        },
        {
          "targetBlank": true,
          "title": "üîç –¢—Ä–µ–π—Å—ã Game Service",
          "url": "/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22search%22,%22serviceName%22:%22game-service%22%7D%5D%7D"
        }
      ],
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "up{job=\"game-service\"}", "refId": "A"}],
      "title": "üéØ Game Service",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [
            {"options": {"0": {"color": "red", "index": 0, "text": "DOWN"}, "1": {"color": "green", "index": 1, "text": "UP"}}, "type": "value"}
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]
          }
        }
      },
      "gridPos": {"h": 6, "w": 6, "x": 18, "y": 4},
      "id": 4,
      "links": [
        {
          "targetBlank": true,
          "title": "üìä –î–µ—Ç–∞–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥",
          "url": "/d/pack-service"
        },
        {
          "targetBlank": true,
          "title": "üìã –õ–æ–≥–∏ Pack Service",
          "url": "/explore?left=%7B%22datasource%22:%22loki%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22expr%22:%22%7Bservice%3D%5C%22pack-service%5C%22%7D%22%7D%5D%7D"
        },
        {
          "targetBlank": true,
          "title": "üîç –¢—Ä–µ–π—Å—ã Pack Service",
          "url": "/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22search%22,%22serviceName%22:%22pack-service%22%7D%5D%7D"
        }
      ],
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "up{job=\"pack-service\"}", "refId": "A"}],
      "title": "üì¶ Pack Service",
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 10},
      "id": 105,
      "panels": [],
      "title": "üìä –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "blue", "value": null}, {"color": "green", "value": 10}, {"color": "yellow", "value": 100}]
          },
          "unit": "short"
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 0, "y": 11},
      "id": 5,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "auth_total_users", "refId": "A"}],
      "title": "üë• –í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 50}, {"color": "red", "value": 100}]
          },
          "unit": "short"
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 4, "y": 11},
      "id": 6,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "auth_active_sessions", "refId": "A"}],
      "title": "üîë –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "blue", "value": null}, {"color": "green", "value": 5}, {"color": "yellow", "value": 20}]
          },
          "unit": "short"
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 8, "y": 11},
      "id": 10,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "lobby_active_rooms", "refId": "A"}],
      "title": "üè† –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "blue", "value": null}, {"color": "green", "value": 10}, {"color": "yellow", "value": 50}]
          },
          "unit": "short"
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 12, "y": 11},
      "id": 11,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "lobby_active_players", "refId": "A"}],
      "title": "üë• –ò–≥—Ä–æ–∫–∏ –æ–Ω–ª–∞–π–Ω",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "blue", "value": null}, {"color": "green", "value": 10}]
          },
          "unit": "short"
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 16, "y": 11},
      "id": 40,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [{"datasource": {"type": "prometheus", "uid": "prometheus"}, "expr": "pack_available_packs_total", "refId": "A"}],
      "title": "üì¶ –î–æ—Å—Ç—É–ø–Ω–æ –ø–∞–∫–æ–≤",
      "type": "stat"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 10}, {"color": "red", "value": 50}]
          },
          "unit": "reqps"
        }
      },
      "gridPos": {"h": 4, "w": 4, "x": 20, "y": 11},
      "id": 50,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {"values": false, "calcs": ["lastNotNull"], "fields": ""},
        "textMode": "value_and_name"
      },
      "pluginVersion": "10.0.0",
      "targets": [
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total[5m]))",
          "refId": "A"
        }
      ],
      "title": "üìà Total RPS",
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 15},
      "id": 106,
      "panels": [],
      "title": "‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ—à–∏–±–∫–∏",
      "type": "row"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "–ó–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 20,
            "gradientMode": "opacity",
            "hideFrom": {"tooltip": false, "viz": false, "legend": false},
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {"type": "linear"},
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {"group": "A", "mode": "none"},
            "thresholdsStyle": {"mode": "off"}
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "green", "value": null}]
          },
          "unit": "reqps"
        }
      },
      "gridPos": {"h": 8, "w": 12, "x": 0, "y": 16},
      "id": 30,
      "options": {
        "legend": {"calcs": ["last", "mean", "max"], "displayMode": "table", "placement": "bottom", "showLegend": true},
        "tooltip": {"mode": "multi", "sort": "desc"}
      },
      "pluginVersion": "10.0.0",
      "targets": [
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"auth-service\",endpoint!~\"/health|/metrics\"}[5m])) by (job)",
          "refId": "A",
          "legendFormat": "Auth Service"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"lobby-service\",endpoint!~\"/actuator.*|/api/lobby/health\"}[5m])) by (job)",
          "refId": "B",
          "legendFormat": "Lobby Service"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"game-service\",endpoint!~\"/health|/metrics\"}[5m])) by (job)",
          "refId": "C",
          "legendFormat": "Game Service"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"pack-service\",endpoint!~\"/health|/metrics\"}[5m])) by (job)",
          "refId": "D",
          "legendFormat": "Pack Service"
        }
      ],
      "title": "üìä Request Rate –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º",
      "type": "timeseries"
    },
    {
      "datasource": {"type": "prometheus", "uid": "prometheus"},
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "–û—à–∏–±–æ–∫/—Å–µ–∫",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 20,
            "gradientMode": "opacity",
            "hideFrom": {"tooltip": false, "viz": false, "legend": false},
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {"type": "linear"},
            "showPoints": "auto",
            "spanNulls": true,
            "stacking": {"group": "A", "mode": "none"},
            "thresholdsStyle": {"mode": "line"}
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 1}, {"color": "red", "value": 5}]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {"id": "byRegexp", "options": ".*4xx.*"},
            "properties": [{"id": "color", "value": {"fixedColor": "yellow", "mode": "fixed"}}]
          },
          {
            "matcher": {"id": "byRegexp", "options": ".*5xx.*"},
            "properties": [{"id": "color", "value": {"fixedColor": "red", "mode": "fixed"}}]
          }
        ]
      },
      "gridPos": {"h": 8, "w": 12, "x": 12, "y": 16},
      "id": 31,
      "options": {
        "legend": {"calcs": ["last", "sum"], "displayMode": "table", "placement": "bottom", "showLegend": true},
        "tooltip": {"mode": "multi", "sort": "desc"}
      },
      "pluginVersion": "10.0.0",
      "targets": [
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"auth-service\",status=~\"4..\",endpoint!~\"/health|/metrics\"}[5m])) by (job)",
          "refId": "A",
          "legendFormat": "Auth 4xx"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"auth-service\",status=~\"5..\",endpoint!~\"/health|/metrics\"}[5m])) by (job)",
          "refId": "B",
          "legendFormat": "Auth 5xx"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"lobby-service\",status=\"4xx\",endpoint!~\"/actuator.*|/api/lobby/health\"}[5m])) by (job)",
          "refId": "C",
          "legendFormat": "Lobby 4xx"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"lobby-service\",status=\"5xx\",endpoint!~\"/actuator.*|/api/lobby/health\"}[5m])) by (job)",
          "refId": "D",
          "legendFormat": "Lobby 5xx"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"game-service\",status=~\"4..\",endpoint!~\"/health|/metrics\"}[5m])) by (job)",
          "refId": "E",
          "legendFormat": "Game 4xx"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"game-service\",status=~\"5..\",endpoint!~\"/health|/metrics\"}[5m])) by (job)",
          "refId": "F",
          "legendFormat": "Game 5xx"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"pack-service\",status=~\"4..\",endpoint!~\"/health|/metrics\"}[5m])) by (job)",
          "refId": "G",
          "legendFormat": "Pack 4xx"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "expr": "sum(rate(http_requests_total{job=\"pack-service\",status=~\"5..\",endpoint!~\"/health|/metrics\"}[5m])) by (job)",
          "refId": "H",
          "legendFormat": "Pack 5xx"
        }
      ],
      "title": "‚ö†Ô∏è –û—à–∏–±–∫–∏ (4xx –∏ 5xx)",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 24},
      "id": 107,
      "panels": [],
      "title": "üìã –õ–æ–≥–∏ –∏ —Ç—Ä–µ–π—Å—ã",
      "type": "row"
    },
    {
      "datasource": {"type": "loki", "uid": "loki"},
      "gridPos": {"h": 10, "w": 12, "x": 0, "y": 25},
      "id": 60,
      "options": {
        "dedupStrategy": "none",
        "enableLogDetails": true,
        "prettifyLogMessage": false,
        "showCommonLabels": false,
        "showLabels": false,
        "showTime": true,
        "sortOrder": "Descending",
        "wrapLogMessage": false
      },
      "pluginVersion": "10.0.0",
      "targets": [
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "expr": "{service=~\".+\"} |= \"\" | json | level=~\"error|ERROR|warn|WARN\"",
          "refId": "A"
        }
      ],
      "title": "‚ö†Ô∏è –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã)",
      "type": "logs"
    },
    {
      "datasource": {"type": "datasource", "uid": "-- Dashboard --"},
      "gridPos": {"h": 10, "w": 12, "x": 12, "y": 25},
      "id": 61,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# üîç –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–µ–π—Å–æ–≤\n\n## –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º:\n\n- [üîê Auth Service - –¢—Ä–µ–π—Å—ã](/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22search%22,%22serviceName%22:%22auth-service%22%7D%5D%7D)\n- [üè† Lobby Service - –¢—Ä–µ–π—Å—ã](/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22search%22,%22serviceName%22:%22lobby-service%22%7D%5D%7D)\n- [üéØ Game Service - –¢—Ä–µ–π—Å—ã](/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22search%22,%22serviceName%22:%22game-service%22%7D%5D%7D)\n- [üì¶ Pack Service - –¢—Ä–µ–π—Å—ã](/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22search%22,%22serviceName%22:%22pack-service%22%7D%5D%7D)\n\n---\n\n## –ü–æ–∏—Å–∫ —Ç—Ä–µ–π—Å–æ–≤ —Å –æ—à–∏–±–∫–∞–º–∏:\n\n[üî• –í—Å–µ —Ç—Ä–µ–π—Å—ã —Å –æ—à–∏–±–∫–∞–º–∏ (status >= 400)](/explore?left=%7B%22datasource%22:%22tempo%22,%22queries%22:%5B%7B%22refId%22:%22A%22,%22queryType%22:%22traceql%22,%22query%22:%22%7B%20span.http.status_code%20%3E%3D%20400%20%7D%22%7D%5D%7D)\n\n---\n\n## –ü–æ–ª–µ–∑–Ω—ã–µ TraceQL –∑–∞–ø—Ä–æ—Å—ã:\n\n```traceql\n# –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (> 1 —Å–µ–∫—É–Ω–¥—ã)\n{ duration > 1s }\n\n# –ó–∞–ø—Ä–æ—Å—ã —Å –æ—à–∏–±–∫–∞–º–∏\n{ span.http.status_code >= 400 }\n\n# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∏ –º–µ—Ç–æ–¥\n{ resource.service.name = \"pack-service\" && span.http.method = \"GET\" }\n```",
        "mode": "markdown"
      },
      "pluginVersion": "10.0.0",
      "transparent": true,
      "type": "text"
    }
  ],
  "refresh": "10s",
  "schemaVersion": 38,
  "style": "dark",
  "tags": ["sigame", "overview", "main"],
  "templating": {
    "list": []
  },
  "time": {"from": "now-15m", "to": "now"},
  "timepicker": {"refresh_intervals": ["5s", "10s", "30s", "1m", "5m"]},
  "timezone": "browser",
  "title": "üéÆ SIGame - –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥",
  "uid": "sigame-main",
  "version": 1
}
